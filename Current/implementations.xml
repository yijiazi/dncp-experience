<section title="Implementations" anchor="implementation">
    <t>The DNCP implementation used for this study was developped as part of an implementation of the Homenet network stack called 'hnetd'. The code is available online (https://github.com/sbyx/hnetd) and is published under the GPLv2 license. As an implementation of the Home Network Control Protocol - HNCP <xref target="I-D.ietf-homenet-hncp"/>, it includes the source code to DNCP, the prefix assignment algorithm <xref target="I-D.ietf-homenet-prefix-assignment"/>, as well as other elements specific to Homenet. 'hnetd' is available as a package to be installed on OpenWrt, which is the platform it is most suited for (hnetd also runs on standard Linux, but works less fluently).</t>

    <t>At the time of starting this work, 'hnetd' was the only publicly available implementation of DNCP. A few days before this draft, a new implementation was published. It is available online (http://www.pps.univ-paris-diderot.fr/~jch/private/shncpd-20150701.tar.gz), but we could not test it yet.</t>

    <t>For the purpose of this work, 'hnetd' was modified in order to provide a statically linkable library containing DNCP implementation. This branch is still available on the main 'hnetd' repository (libdncp). Since then, 'hnetd' maintainers have published a new library, libdncp2, which is statically or dynamically linkable and which is based on the same code as the most recent versions of 'hnetd'. For timing reasons, this document shows the performances of the older version. Bugs have since been corrected and performance issues have been corrected. We therefore plan to redo the same simulations with libdncp2 for future iterations of this document.
    </t>

    <t>hnetd, DNCP included, consists of 15651 lines of code (18220 when including test files). The binary weights 576KB when compiled for debian X86_64 with no optimization and 727KB when compiled for OpenWrt MIPS. libdncp2 is roughly consists of 2300 lines of code (2590 when including security option), it weights 193KB when compiled with no optimization for debian x86_64 and 192KB when compiled for OpenWrt MIPS.</t>

    <t>hnetd, and therefore libdncp, were primarly developped to run on OpenWrt. For this reason, it is based on libdncp, a lightweight toolkit library containing useful structures (e.g., lists, trees), functions (e.g., md5), as well as a small event loop. Thanks to the quality of the original DNCP code, libdncp was easily extracted from hnetd, and its interface with Linux and libubox replaced with NS3 (This was also made easy by NS3 as it adoptes an event-loop-like architecture). As libdncp2 version moves DNCP profile specificities from compilation-time to run-time, this newer version might be even easier to integrate to NS3.</t>

</section>
